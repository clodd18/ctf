<x-app-layout>
    <x-slot name="header">
        <h2 class="font-semibold text-xl text-gray-800 leading-tight">
            {{ __('Dashboard') }}
        </h2>
    </x-slot>

    <div class="py-12">
        <div class="max-w-7xl mx-auto sm:px-6 lg:px-8">
            <div class="bg-white overflow-hidden shadow-xl sm:rounded-lg">
                <div class="p-6 sm:px-20 bg-white border-b border-gray-200">
                    <div class="mt-8 text-2xl">
                        Cross-Site Request Forgery (CSRF)
                    </div>
                    <div class="mt-6 text-gray-500">
                        <p style='margin: 3pt 0cm 0cm; text-align: justify; line-height: 1.5; font-family: "Times New Roman", serif; '><span style='font-family: "Times New Roman", Times, serif; font-size: 18px;'><br></span></p>
                        <p style='margin: 3pt 0cm 0cm; text-align: justify; line-height: 1.5; font-family: "Times New Roman", serif; '><span style='line-height: 150%; color: black; background: white; font-family: "Times New Roman", Times, serif; font-size: 18px;'>La falsificaci&oacute;n de solicitud entre sitios (CSRF o XSRF) es una vulnerabilidad en la que un atacante enga&ntilde;a a una v&iacute;ctima para que realice una solicitud que la v&iacute;ctima no ten&iacute;a la intenci&oacute;n de realizar. Por lo tanto, con CSRF, un atacante abusa de la confianza que una aplicaci&oacute;n web tiene con el navegador de la v&iacute;ctima.</span></p>
                        <p style='margin: 3pt 0cm 0cm; text-align: justify; line-height: 1.5; font-family: "Times New Roman", serif; '><span style='font-family: "Times New Roman", Times, serif; font-size: 18px;'><br></span></p>
                        <p style='margin: 3pt 0cm 0cm; text-align: justify; line-height: 1.5; font-family: "Times New Roman", serif; '><span style='line-height: 150%; color: black; background: white; font-family: "Times New Roman", Times, serif; font-size: 18px;'>En un ataque CSRF exitoso, el atacante hace que el usuario v&iacute;ctima realice una acci&oacute;n sin querer.&nbsp;Por ejemplo, esto podr&iacute;a ser cambiar la direcci&oacute;n de correo electr&oacute;nico en su cuenta, cambiar su contrase&ntilde;a o realizar una transferencia de fondos.&nbsp;Seg&uacute;n la naturaleza de la acci&oacute;n, el atacante podr&iacute;a obtener el control total de la cuenta del usuario.&nbsp;Si el usuario comprometido tiene un rol privilegiado dentro de la aplicaci&oacute;n, entonces el atacante podr&iacute;a tomar el control total de todos los datos y la funcionalidad de la aplicaci&oacute;n.</span></p>
                        <p style='margin: 3pt 0cm 0cm; text-align: justify; line-height: 1.5; font-family: "Times New Roman", serif; '><span style='font-family: "Times New Roman", Times, serif; font-size: 18px;'><br></span></p>
                        <p style='margin: 3pt 0cm 0cm; text-align: justify; line-height: 1.5; font-family: "Times New Roman", serif; background: white;'><span style='line-height: 150%; color: black; font-family: "Times New Roman", Times, serif; font-size: 18px;'>Para que un ataque CSRF sea posible, deben darse tres condiciones clave:</span></p>
                        <p style='margin: 3pt 0cm 0cm; text-align: justify; line-height: 1.5; font-family: "Times New Roman", serif; background: white;'><span style='font-family: "Times New Roman", Times, serif; font-size: 18px;'><br></span></p>
                        <ul>
                            <li style='line-height: 1.5; font-family: "Times New Roman", Times, serif; font-size: 18px;'><strong><span style="line-height: 150%; color: black;">  -  Una acci&oacute;n relevante.&nbsp;</span></strong><span style="line-height: 150%; color: black;">Hay una acci&oacute;n dentro de la aplicaci&oacute;n que el atacante tiene una raz&oacute;n para inducir.&nbsp;Esto podr&iacute;a ser una acci&oacute;n privilegiada (como modificar los permisos de otros usuarios) o cualquier acci&oacute;n sobre datos espec&iacute;ficos del usuario (como cambiar la contrase&ntilde;a del usuario).</span></li>
                            <li style='line-height: 1.5; font-family: "Times New Roman", Times, serif; font-size: 18px;'><strong><span style="line-height: 150%; color: black;">  -  Manejo de sesi&oacute;n basado en cookies.&nbsp;</span></strong><span style="line-height: 150%; color: black;">Realizar la acci&oacute;n implica emitir una o m&aacute;s solicitudes HTTP, y la aplicaci&oacute;n se basa &uacute;nicamente en las cookies de sesi&oacute;n para identificar al usuario que realiz&oacute; las solicitudes.&nbsp;No existe ning&uacute;n otro mecanismo para realizar un seguimiento de las sesiones o validar las solicitudes de los usuarios.</span></li>
                            <li style='line-height: 1.5; font-family: "Times New Roman", Times, serif; font-size: 18px;'><strong><span style="line-height: 150%; color: black;">  -  Sin par&aacute;metros de solicitud impredecibles.&nbsp;</span></strong><span style="line-height: 150%; color: black;">Las solicitudes que realizan la acci&oacute;n no contienen ning&uacute;n par&aacute;metro cuyos valores el atacante no pueda determinar o adivinar. Por ejemplo, al hacer que un usuario cambie su contrase&ntilde;a, la funci&oacute;n no es vulnerable si un atacante necesita saber el valor de la contrase&ntilde;a existente.</span></li>
                        </ul>
                        <p style="line-height: 1.5;"><span style='line-height: 150%; font-family: "Times New Roman", Times, serif; font-size: 18px; color: black;'><br></span></p>
                        <p style='margin: 3pt 0cm 0cm; text-align: justify; line-height: 1.5; font-family: "Times New Roman", serif;  background: white;'><span style='line-height: 150%; color: black; font-family: "Times New Roman", Times, serif; font-size: 18px;'>La t&eacute;cnica recomendada y m&aacute;s utilizada para prevenir ataques CSRF se conoce como token anti-CSRF, tambi&eacute;n conocido como token sincronizador.&nbsp;Las caracter&iacute;sticas de un sistema anti-CSRF bien dise&ntilde;ado involucran los siguientes atributos.</span></p>
                        <br />
                        <ul>
                            <li style='line-height: 1.5; font-family: "Times New Roman", Times, serif; font-size: 18px;'><span style="line-height: 150%; color: black;">  -  El token anti-CSRF debe ser &uacute;nico para cada sesi&oacute;n de usuario.</span></li>
                            <li style='line-height: 1.5; font-family: "Times New Roman", Times, serif; font-size: 18px;'><span style="line-height: 150%; color: black;">  -  La sesi&oacute;n deber&iacute;a caducar autom&aacute;ticamente despu&eacute;s de un per&iacute;odo de tiempo adecuado.</span></li>
                            <li style='line-height: 1.5; font-family: "Times New Roman", Times, serif; font-size: 18px;'><span style="line-height: 150%; color: black;">  -  El token anti-CSRF debe ser un valor criptogr&aacute;ficamente aleatorio de longitud significativa.</span></li>
                            <li style='line-height: 1.5; font-family: "Times New Roman", Times, serif; font-size: 18px;'><span style="line-height: 150%; color: black;">  -  El token anti-CSRF debe ser criptogr&aacute;ficamente seguro, es decir, debe generarse mediante un potente algoritmo generador de n&uacute;meros pseudoaleatorios (PRNG).</span></li>
                            <li style='line-height: 1.5; font-family: "Times New Roman", Times, serif; font-size: 18px;'><span style="line-height: 150%; color: black;">  -  El token anti-CSRF se agrega como un campo oculto para los formularios o dentro de las URL (solo es necesario si las solicitudes GET provocan cambios de estado, es decir, las solicitudes GET no son idempotentes).</span></li>
                            <li style='line-height: 1.5; font-family: "Times New Roman", Times, serif; font-size: 18px;'><span style="line-height: 150%; color: black;">  -  El servidor debe rechazar la acci&oacute;n solicitada si el token anti-CSRF falla en la validaci&oacute;n.</span></li>
                        </ul>
                        <p style="line-height: 1.5;"><span style='line-height: 150%; color: black; font-family: "Times New Roman", Times, serif; font-size: 18px;'><br></span></p>
                        <p style='margin: 3pt 0cm 0cm; text-align: justify; line-height: 1.5; font-family: "Times New Roman", serif;  background: white;'><span style='line-height: 150%; color: black; background: white; font-family: "Times New Roman", Times, serif; font-size: 18px;'>Cuando un usuario env&iacute;a un formulario o realiza alguna otra solicitud autenticada que requiere una Cookie, el token anti-CSRF debe incluirse en la solicitud. Luego, la aplicaci&oacute;n web verificar&aacute; la existencia y correcci&oacute;n de este token antes de procesar la solicitud. Si falta el token o es incorrecto, se puede rechazar la solicitud. Este es precisamente el mecanismo que Laravel implementa por defecto en todos sus formularios y hay que desactivarlo a prop&oacute;sito en caso de no querer utilizarlo. O en su defecto, a&ntilde;adir las p&aacute;ginas de destino a una lista de excepciones en las que no se tendr&aacute; en cuenta el uso del token.</span></p>
                    </div>
                    <a href="{{ url()->previous() }}" class="mt-2 ml-12 inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition'">Volver</a>
                </div>
            </div>
        </div>
    </div>
</x-app-layout>
